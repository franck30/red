// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
  ext.kotlin_version = '1.1.3'
  repositories {
    jcenter()
    maven {
      url 'https://plugins.gradle.org/m2/'
    }
    maven { url 'https://maven.google.com' }
  }
  dependencies {
    classpath 'com.android.tools.build:gradle:2.3.3'
    classpath 'com.jakewharton.hugo:hugo-plugin:1.2.1'
    classpath 'me.tatarka:gradle-retrolambda:3.6.1'
    classpath 'me.tatarka.retrolambda.projectlombok:lombok.ast:0.2.3.a2'
    classpath 'com.google.gms:google-services:3.1.0'
    classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.10'
    classpath 'com.google.firebase:firebase-plugins:1.1.0'
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
  }

  // Exclude the version that the android plugin depends on.
  configurations.classpath.exclude group: 'com.android.tools.external.lombok'
}

allprojects {
  repositories {
    jcenter()
  }
}

subprojects {
  tasks.withType(Test) {
    testLogging {
      exceptionFormat 'FULL'
      showCauses true
      showExceptions true
      showStackTraces true
    }
  }
}

task clean(type: Delete) {
  delete rootProject.buildDir
}

ext {
  config = [applicationId    : 'com.benoitquenaudon.tvfoot.red',
            minSdkVersion    : 21,
            targetSdkVersion : 25,
            compileSdkVersion: 25,
            buildToolsVersion: '25.0.2',]

  lib = [supportLibraryVersion          : '25.3.1',
         constraintLayoutVersion        : '1.0.2',
         picassoVersion                 : '2.5.2',
         picassoOkHttp3DownloaderVersion: '1.1.0',
         okHttpVersion                  : '3.6.0',
         retrofitVersion                : '2.2.0',
         daggerVersion                  : '2.10',
         gsonVersion                    : '2.8.0',
         lombokVersion                  : '1.16.14',
         timberVersion                  : '4.5.1',
         autoValueVersion               : '1.3',
         autoValueGsonVersion           : '0.4.6',
         autoValueParcelVersion         : '0.2.5',
         jsr305Version                  : '3.0.1',
         junitVersion                   : '4.12',
         espressoVersion                : '2.2.2',
         mockitoVersion                 : '1.10.19',
         dexmakerVersion                : '1.4',
         groupieVersion                 : '0.8.0',
         rxJavaVersion                  : '2.0.7',
         rxAndroidVersion               : '2.0.1',
         retrofit2RxJava2Adapter        : '1.0.0',
         leakCanaryVersion              : '1.5',
         firebaseVersion                : '10.2.6',
         rxBindingVersion               : '2.0.0',]
}